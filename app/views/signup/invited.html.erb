<div class="box wide">
  <div class="legend">
    新会员注册
  </div>

  <%= form_for @new_user, { :url => signup_url, :autocomplete => "off" } do |f| %>
    <%= hidden_field_tag "invitation_code", @invitation.code %>

    <p>
    要创建一个新的帐户，输入您的E-mail地址和密码。
    您的E-mail地址永远不会被显示给用户，除非在重置密码或接收网站提示所用。用户名则可以在注册成功以后在管理界面任意更改。
    </p>

    <%= error_messages_for(@new_user) %>

    <p>
    <%= f.label :invitation, "邀请者:", :class => "required" %>
    <span class="d">
      <a href="/u/<%= @invitation.user.username %>" target="_blank"><%=
        @invitation.user.username %></a>
    </span>
    </p>

    <p>
    <%= f.label :username, "会员登录名:", :class => "required" %>
    <%= f.text_field :username, :size => 30 %>
    <span class="hint">
      <tt>接受字母数字和横线</tt>
    </span>
    <br />

    <%= f.label :email, "E-mail地址:", :class => "required" %>
    <%= f.email_field :email, :size => 30 %>
    <span class="hint">
      <a href="http://www.gravatar.com/" target="_blank">Gravatar</a>关联头像，如果你有Gravatar账户的话。
    </span>
    <br />

    <%= f.label :password, "密码:", :class => "required" %>
    <%= f.password_field :password, :size => 30, :autocomplete => "off" %>
    <br />

    <%= f.label :password_confirmation, "密码确认:",
      :class => "required" %>
    <%= f.password_field :password_confirmation, :size => 30,
      :autocomplete => "off" %>
    <br />
    </p>

    <p>
    写点自我介绍，好让其他会员认识你.
    </p>

    <p>
    <div class="boxline">
      <%= f.label :about, "自我描述:", :class => "required" %>
      <%= f.text_area :about, :size => "100x5", :style => "width: 600px;" %>
    </div>

    <div class="box">
      <div class="boxline markdown_help_toggler"
        style="margin-left: 9em; width: 600px;">
        <div class="markdown_help_label">
          Markdown 语法介绍
        </div>

        <div style="clear: both;"></div>

        <%= render :partial => "global/markdownhelp" %>
      </div>
    </div>

    <p>
    <%= submit_tag "注 册" %>
    </p>
  <% end %>
</div>
